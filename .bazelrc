build:debug --sandbox_debug=true --show_progress --worker_verbose --verbose_failures --test_output=streamed  --subcommands
build:debug --//:setup_debug_flag

# To ensure a hermetic environment for Java
build --java_runtime_version=remotejdk_11

# From https://github.com/bazelbuild/bazel/issues/4867#issuecomment-830402410
build:quiet --ui_event_filters=-info --noshow_progress
query:quiet --ui_event_filters=-info --noshow_progress

# Disable the bazel symlinks
common --experimental_convenience_symlinks=ignore

common --workspace_status_command=tools/bazel/workspace_status.sh

# Print warning messages about test suite being configured as too small/big
test --test_verbose_timeout_warnings

# Output test logs to the console when there are errors
test --test_output=errors

# Secrets necessary also while testing
test --test_env=ONEPASSWORD_SERVICE_ACCOUNT_TOKEN_PROD
test --test_env=ONEPASSWORD_SERVICE_ACCOUNT_TOKEN_DEV

common --enable_bzlmod=true

common --nolegacy_important_outputs

# Ignore pants packages
common --deleted_packages 3rdparty,3rdparty/python

# The CI has some specific configuration which we only want to load in the CI
try-import %workspace%/ci.bazelrc

try-import %workspace%/local.bazelrc
