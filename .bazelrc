build:debug --show_progress --worker_verbose --verbose_failures --test_output=streamed  --subcommands
build:debug --//:setup_debug_flag

# To ensure a hermetic environment for Java
build --java_runtime_version=remotejdk_11

# From https://github.com/bazelbuild/bazel/issues/4867#issuecomment-830402410
build:quiet --ui_event_filters=-info --noshow_progress
query:quiet --ui_event_filters=-info --noshow_progress

# Move the bazel symlinks outside of the project root to avoid the symlinks appearing in the volume mount
build --symlink_prefix=/tmp/bazel-setup-

# build --disk_cache /home/devcontainer/bazel/disk_cache
# build --repository_cache /home/devcontainer/bazel/repository_cache
# startup --output_base=/home/devcontainer/bazel/output_base

# Print warning messages about test suite being configured as too small/big
test --test_verbose_timeout_warnings

# Output test logs to the console when there are errors
test --test_output=errors

common --enable_bzlmod=true

# Enable builds without the bytes https://github.com/bazelbuild/bazel/issues/6862
build --remote_download_minimal

# From https://www.buildbuddy.io/docs/cloud
# Use BuildBuddy
build --bes_results_url=https://app.buildbuddy.io/invocation/
build --bes_backend=grpcs://remote.buildbuddy.io
build --remote_cache=grpcs://remote.buildbuddy.io
build --remote_timeout=3600

# Suggestions from BuildBuddy
build --experimental_remote_build_event_upload=minimal
build --experimental_remote_cache_compression
build --nolegacy_important_outputs

# The CI has some specific configuration which we only want to load in the CI
try-import %workspace%/ci.bazelrc