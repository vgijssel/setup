#!/bin/bash
# Wrapper for chezmoi that sets the correct source directory and config

# Get the directory where this script is located (portable, no realpath needed)
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
LOCAL_SETUP_DIR="$(cd "${SCRIPT_DIR}/.." && pwd)"
EXEC_BIN="${LOCAL_SETUP_DIR}"/bin/exec
CHEZMOI_BIN="${LOCAL_SETUP_DIR}"/bin/chezmoi

exec ${EXEC_BIN} "${CHEZMOI_BIN}" --config "${LOCAL_SETUP_DIR}"/libs/devenv/chezmoi.yaml -S "${LOCAL_SETUP_DIR}" "$@"
