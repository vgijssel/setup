#!/usr/bin/env bash
set -euo pipefail

REPO_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
EXEC_BIN="$REPO_ROOT/bin/exec"
RUNNER="$REPO_ROOT/third_party/javascript/html-minifier-terser-runner.ts"

exec $EXEC_BIN deno run \
    --allow-all \
    --config="$REPO_ROOT/third_party/javascript/deno.json" \
    --lock="$REPO_ROOT/third_party/javascript/deno.lock" \
    --frozen \
    --quiet \
    "$RUNNER" "$@"
