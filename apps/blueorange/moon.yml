id: blueorange
language: javascript
layer: application
tags:
  - scope.app
  - type.webapp
  - scope.app
  - type.webapp
tasks:
  build:
    command: vite build
    env:
      CWD: apps/blueorange
    inputs:
      - glob: src/**/*
        cache: true
      - glob: public/**/*
        cache: true
      - file: index.html
      - glob: vite.config.*
        cache: true
      - file: package.json
      - glob: tsconfig*.json
        cache: true
    outputs:
      - /dist/apps/blueorange
    options:
      cache: true
    toolchain: system
  e2e:
    command: playwright test
    env:
      CWD: apps/blueorange
    toolchain: system
  preview:
    command: vite preview
    env:
      CWD: apps/blueorange
    toolchain: system
  serve:
    command: vite
    env:
      CWD: apps/blueorange
    toolchain: system
  test:
    command: vitest run
    env:
      CWD: apps/blueorange
    inputs:
      - glob: src/**/*
        cache: true
      - glob: tests/**/*
        cache: true
      - glob: vite.config.*
        cache: true
      - glob: vitest.config.*
        cache: true
      - file: package.json
      - glob: tsconfig*.json
        cache: true
    options:
      cache: true
    toolchain: system
toolchain:
  default: node
