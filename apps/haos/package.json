{
  "name": "haos",
  "version": "0.4.0",
  "description": "Home Assistant OS configuration and automation",
  "nx": {
    "projectType": "application",
    "sourceRoot": "apps/haos",
    "targets": {
      "sync": {
        "executor": "nx:run-commands",
        "options": {
          "commands": [
            "unison haos",
            {
              "command": "nx run haos:update",
              "forwardAllArgs": false
            }
          ],
          "parallel": false,
          "cwd": "apps/haos"
        },
        "description": "Sync files between local and remote environment"
      },
      "update": {
        "executor": "nx:run-commands",
        "options": {
          "commands": [
            {
              "command": "curl -f -H \"Authorization: Bearer $HA_TOKEN\" -H \"Content-Type: application/json\" -X POST -d '{}' http://192.168.1.32:8123/api/services/homeassistant/reload_all && echo \"\"",
              "forwardAllArgs": false
            },
            "nx run haos:validate"
          ],
          "cwd": "apps/haos"
        },
        "description": "Check config and reload Home Assistant if valid"
      },
      "validate": {
        "executor": "nx:run-commands",
        "options": {
          "command": "goss validate",
          "cwd": "apps/haos"
        },
        "description": "Test Home Assistant configuration endpoint with Goss"
      }
    },
    "tags": [
      "type:application",
      "scope:home-automation",
      "platform:home-assistant"
    ],
    "release": {
      "version": {
        "generatorOptions": {
          "fallbackCurrentVersionResolver": "disk",
          "currentVersionResolver": "disk"
        }
      }
    }
  },
  "private": true
}
