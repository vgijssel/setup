apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  labels:
    kubevirt.io/vm: haos
  name: haos
  namespace: default
spec:
  running: true
  template:
    metadata:
      labels:
        kubevirt.io/os: haos
        kubevirt.io/vm: haos
    spec:
      architecture: amd64
      domain:
        cpu:
          cores: 2
        devices:
          autoattachPodInterface: false
          disks:
            - disk:
                bus: virtio
              name: haosdisk
          hostDevices:
            - deviceName: kubevirt.io/internet-card
              name: internet
        features:
          acpi: {}
          smm:
            enabled: false
        firmware:
          bootloader:
            efi:
              secureBoot: false
        machine:
          type: q35
        resources:
          requests:
            memory: 4096M
      volumes:
        - name: haosdisk
          persistentVolumeClaim:
            claimName: haos
