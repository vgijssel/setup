{
  "name": "coder-prod",
  "version": "0.0.0",
  "nx": {
    "projectType": "application",
    "sourceRoot": "apps/coder-prod",
    "targets": {
      "create-1password-secret": {
        "executor": "nx:run-commands",
        "options": {
          "commands": [
            "kubectl create namespace 1password || true",
            "kubectl create secret generic 1password-credentials --namespace=1password --from-literal=1password-credentials.json=\"$(op read 'op://setup-coder-prod/coder-prod Credentials File/1password-credentials.json' | base64)\" --dry-run=client -o yaml | kubectl apply -f -",
            "kubectl create secret generic 1password-operator-token --namespace=1password --from-literal=token=\"$(op read 'op://setup-coder-prod/kzsqg7xbgiz7jbvxksugadymne/credential')\" --dry-run=client -o yaml | kubectl apply -f -"
          ],
          "parallel": false,
          "cwd": "{workspaceRoot}"
        },
        "metadata": {
          "description": "Create or replace the 1password-credentials and 1password-operator-token Kubernetes secrets"
        }
      }
    },
    "tags": [
      "stack",
      "kubernetes",
      "production"
    ]
  },
  "private": true
}
