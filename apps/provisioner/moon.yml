id: provisioner
language: javascript
layer: application
dependsOn:
  - ansible
tags:
  - scope.app
  - type.infrastructure
  - ansible
  - provisioning
  - scope.app
  - type.infrastructure
  - ansible
  - provisioning
tasks:
  provision:
    command: ansible-playbook -i production provisioner.yml --diff
    options:
      runInCI: false
      interactive: true
  provision-local:
    command: ansible-playbook -i production.local provisioner.yml --diff
    options:
      runInCI: false
      interactive: true
  k8s-provision:
    command: ansible-playbook -i production provisioner-k8s.yml --diff
    options:
      runInCI: false
      interactive: true
  k8s-provision-local:
    command: ansible-playbook -i production.local provisioner-k8s.yml --diff
    options:
      runInCI: false
      interactive: true
  pikvm-provision:
    command: ansible-playbook -i production pikvm.yml --diff
    options:
      runInCI: false
      interactive: true
  pikvm-provision-local:
    command: ansible-playbook -i production.local pikvm.yml --diff
    options:
      runInCI: false
      interactive: true
