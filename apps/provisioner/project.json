{
  "name": "provisioner",
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "projectType": "application",
  "sourceRoot": "apps/provisioner",
  "targets": {
    "provision": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ansible-playbook -i production provisioner.yml --diff",
        "cwd": "apps/provisioner"
      },
      "metadata": {
        "description": "Provision the provisioner"
      }
    },
    "provision-local": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ansible-playbook -i production.local provisioner.yml --diff",
        "cwd": "apps/provisioner"
      },
      "metadata": {
        "description": "Provision the provisioner using the local inventory"
      }
    },
    "k8s-provision": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ansible-playbook -i production provisioner-k8s.yml --diff",
        "cwd": "apps/provisioner"
      },
      "metadata": {
        "description": "Provision the provisioner kubernetes cluster instance"
      }
    },
    "k8s-provision-local": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ansible-playbook -i production.local provisioner-k8s.yml --diff",
        "cwd": "apps/provisioner"
      },
      "metadata": {
        "description": "Provision the provisioner kubernetes cluster instance using the local inventory"
      }
    },
    "pikvm-provision": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ansible-playbook -i production pikvm.yml --diff",
        "cwd": "apps/provisioner"
      },
      "metadata": {
        "description": "Provision the PiKVM"
      }
    },
    "pikvm-provision-local": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ansible-playbook -i production.local pikvm.yml --diff",
        "cwd": "apps/provisioner"
      },
      "metadata": {
        "description": "Provision the PiKVM using the local inventory"
      }
    }
  },
  "tags": ["scope:app", "type:infrastructure", "ansible", "provisioning"]
}
