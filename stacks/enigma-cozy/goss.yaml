command:
  helm_releases_ready:
    title: Validate all HelmRelease resources are Ready
    exec: kubectl get hr -A -o json | jq -e '[.items[].status.conditions[] | select(.type=="Ready" and .status!="True")] | length == 0'
    exit-status: 0
    stdout: []
    stderr: ""
    timeout: 10000
  cozy_system_pods_healthy:
    title: Validate all pods in cozy-system namespace are Running or Succeeded
    exec: kubectl get pods -n cozy-system -o json | jq -e '[.items[] | select(.status.phase != "Running" and .status.phase != "Succeeded")] | length == 0'
    exit-status: 0
    stdout: []
    stderr: ""
    timeout: 10000
addr:
  tcp://192.168.50.10:50000:
    title: Validate Talos API port reachability on illusion node
    reachable: true
    timeout: 5000
  tcp://192.168.50.11:50000:
    title: Validate Talos API port reachability on the-dome node
    reachable: true
    timeout: 5000
  tcp://192.168.50.12:50000:
    title: Validate Talos API port reachability on the-toy-factory node
    reachable: true
    timeout: 5000
