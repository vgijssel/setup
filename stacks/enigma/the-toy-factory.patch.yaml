machine:
  install:
    disk: /dev/nvme0n1
  network:
    hostname: the-toy-factory
    nameservers:
      - 192.168.1.1
    interfaces:
      - interface: eno1
        addresses:
          - 192.168.1.40/24
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.1.1
        vip:
          ip: 192.168.1.50

      - interface: enp4s0f0np0
        ignore: true

      - interface: enp4s0f1np1
        ignore: true

      #   addresses:
      #     - 10.1.0.1/30

      # - interface: br0
      #   # mtu: 9000
      #   addresses:
      #     - 10.15.15.40/24
      #   bridge:
      #     stp:
      #       enabled: true
      #     interfaces:
      #       # TODO: set MTU on these interfaces as well?
      #       - enp4s0f0np0
      #       - enp4s0f1np1

cluster:
  allowSchedulingOnControlPlanes: true
  etcd:
    advertisedSubnets:
      - 192.168.1.0/24
  network:
    cni:
      name: flannel
      # flannel:
      #   # https://github.com/flannel-io/flannel/blob/master/Documentation/configuration.md#key-command-line-options
      #   extraArgs:
      #     - --iface=br0
