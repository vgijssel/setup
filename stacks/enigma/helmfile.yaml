repositories:
  - name: rook-release
    url: https://charts.rook.io/release

releases:
  - name: rook-ceph
    namespace: rook-ceph
    chart: rook-release/rook-ceph
    hooks:
      - events: ["postsync"]
        showlogs: true
        command: "kubectl"
        args:
          [
            "label",
            "namespace",
            "rook-ceph",
            "pod-security.kubernetes.io/enforce=privileged",
          ]

  - name: rook-ceph-cluster
    namespace: rook-ceph
    chart: rook-release/rook-ceph-cluster
    values:
      - ../../services/rook-ceph-cluster/values.yaml

  - name: rook-ceph-nfs
    namespace: rook-ceph
    chart: ../../services/rook-ceph-nfs

  - name: iperf3
    namespace: iperf3
    chart: ../../services/iperf3

  - name: multus-cni
    namespace: kube-system
    chart: ../../services/multus-cni

  - name: local-path-provisioner
    namespace: local-path-storage
    chart: ../../services/local-path-provisioner
    hooks:
      - events: ["postsync"]
        showlogs: true
        command: "kubectl"
        args:
          [
            "label",
            "namespace",
            "local-path-storage",
            "pod-security.kubernetes.io/enforce=privileged",
          ]

  - name: kubevirt
    namespace: kubevirt
    chart: ../../services/kubevirt
    hooks:
      - events: ["postsync"]
        showlogs: true
        command: "kubectl"
        args:
          [
            "label",
            "namespace",
            "kubevirt",
            "pod-security.kubernetes.io/enforce=privileged",
          ]

  - name: kubevirt-config
    namespace: kubevirt
    chart: ../../services/kubevirt-config

  - name: containerized-data-importer
    namespace: cdi
    chart: ../../services/containerized-data-importer

  - name: containerized-data-importer-config
    namespace: cdi
    chart: ../../services/containerized-data-importer-config

  # - name: myvm
  #   namespace: myvm
  #   installed: false
  #   chart: ../../services/myvm

  - name: cilium-bridge
    namespace: myvm
    chart: ../../services/cilium-bridge
