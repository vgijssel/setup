load("//tools/pyinfra:defs.bzl", "pyinfra_run")

pyinfra_run(
    name = "provision",
    srcs = [
        "deploys/terminal/tasks/install_terminal.py",
        "helpers/home_link.py",
    ],
    # TODO: can we add "askpass" here? so it works with the bootstrap script?
    # args = ["--sudo"],
    data = [
        "deploys/terminal/files/bash_profile",
        "deploys/terminal/files/bashrc",
        "deploys/terminal/files/iterm2/Snazzy.json",
        "deploys/terminal/files/profile",
        "deploys/terminal/files/shell_snippets/asdf.sh",
        "deploys/terminal/files/shell_snippets/benchmark.sh",
        "deploys/terminal/files/shell_snippets/direnv.sh",
        "deploys/terminal/files/shell_snippets/fzf.zsh",
        "deploys/terminal/files/shell_snippets/gpg.sh",
        "deploys/terminal/files/zshenv",
        "deploys/terminal/files/zshrc",
    ],
    deploy = "deploy.py",
    inventory = "inventory.py",
)
