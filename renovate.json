{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["mergeConfidence:all-badges", "config:recommended"],
  "semanticCommits": "enabled",
  "semanticCommitType": "chore",
  "semanticCommitScope": "deps",
  "customManagers": [
    {
      "customType": "jsonata",
      "fileFormat": "json",
      "managerFilePatterns": ["stacks/*/package.json"],
      "matchStrings": [
        "$each(nx.metadata.dependencies, function($v, $k) { { \"depName\": $k, \"currentValue\": $v.version, \"datasource\": $v.datasource } })"
      ]
    }
  ],
  "pip-compile": {
    "fileMatch": ["(^|/)requirements\\.in$"]
  },
  "addLabels": ["dependencies"],
  "constraints": {
    "python": "<= 3.12"
  },
  "lockFileMaintenance": {
    "enabled": true,
    "automerge": true,
    "automergeType": "pr",
    "platformAutomerge": true
  },
  "packageRules": [
    {
      "matchCategories": ["ruby"],
      "enabled": false
    },
    {
      "matchUpdateTypes": ["minor", "patch"],
      "matchCurrentVersion": "!/^0/",
      "automerge": true,
      "automergeType": "pr",
      "platformAutomerge": true
    }
  ],
  "pip_requirements": {
    "fileMatch": ["(^|/)requirements\\.in$"],
    "ignorePaths": ["**/requirements.txt"]
  },
  "bazel-module": {
    "enabled": true
  },
  "bazel": {
    "fileMatch": ["(^|/)WORKSPACE\\.bzlmod$"]
  },
  "docker-compose": {
    "fileMatch": ["(^|/)docker-compose\\.yml\\.j2$"]
  },
  "automergeSchedule": ["after 9am every weekday", "before 5pm every weekday"]
}
