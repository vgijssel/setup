{
  "name": "devcontainer",
  "version": "0.5.0",
  "dependencies": {
    "devenv": "0.5.0"
  },
  "nx": {
    "projectType": "application",
    "targets": {
      "build": {
        "executor": "nx:run-commands",
        "options": {
          "commands": [
            "{projectRoot}/build.sh --tag ${NX_TASK_HASH}"
          ]
        },
        "inputs": [
          "{projectRoot}/Dockerfile",
          "{projectRoot}/build.sh",
          "{projectRoot}/ssh_known_hosts",
          "{workspaceRoot}/.envrc",
          "{workspaceRoot}/bin/**/*",
          "{workspaceRoot}/third_party/hermit/**/*",
          "{workspaceRoot}/third_party/vendir/shell/**/*",
          "{workspaceRoot}/libs/devenv/**/*",
          "{workspaceRoot}/.chezmoiroot"
        ],
        "outputs": [
          "{projectRoot}/.docker-version"
        ],
        "cache": true
      },
      "test": {
        "executor": "nx:run-commands",
        "dependsOn": [
          "build"
        ],
        "options": {
          "commands": [
            "{projectRoot}/test.sh"
          ]
        },
        "cache": true
      },
      "nx-release-publish": {
        "executor": "nx:run-commands",
        "dependsOn": [
          "build"
        ],
        "options": {
          "parallel": false,
          "commands": [
            {
              "command": "{projectRoot}/release.sh"
            }
          ]
        }
      }
    }
  },
  "private": true
}
