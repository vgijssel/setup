apiVersion: vendir.k14s.io/v1alpha1
kind: Config

# declaration of minimum required vendir binary version (optional)
minimumRequiredVersion: 0.8.0

directories:
  - path: manifests

    # set the permissions for this directory (optional; v0.33.0+)
    # by default directories will be created with 0700
    # can be provided as octal, in which case it needs to be prefixed with a `0`
    permissions: 0700

    contents:
      - path: multus-cni
        lazy: true
        git:
          url: https://github.com/k8snetworkplumbingwg/multus-cni
          ref: v4.2.0
          depth: 1
          lfsSkipSmudge: false
        newRootPath: deployments
        ignorePaths:
        - kustomization.yaml

  - path: charts

    # set the permissions for this directory (optional; v0.33.0+)
    # by default directories will be created with 0700
    # can be provided as octal, in which case it needs to be prefixed with a `0`
    permissions: 0700

    contents:

      - path: cilium
        helmChart:
          name: cilium
          version: "1.17.3"
          repository:
            url: https://helm.cilium.io/