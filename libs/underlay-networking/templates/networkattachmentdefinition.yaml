apiVersion: k8s.cni.cncf.io/v1
kind: NetworkAttachmentDefinition
metadata:
  name: {{ .Values.networkAttachmentDefinition.name }}
  namespace: {{ .Values.networkAttachmentDefinition.namespace }}
  labels:
    {{- include "underlay-networking.labels" . | nindent 4 }}
spec:
  config: |-
    {
      "cniVersion": "0.3.1",
      "type": "kube-ovn",
      "server_socket": "/run/openvswitch/kube-ovn-daemon.sock",
      "provider": "{{ .Values.networkAttachmentDefinition.name }}.{{ .Values.networkAttachmentDefinition.namespace }}.ovn"
    }
