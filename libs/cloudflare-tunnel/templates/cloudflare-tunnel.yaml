apiVersion: tunnel.crossplane.io/v1alpha1
kind: CloudflareTunnel
metadata:
  name: { { include "cloudflare-tunnel.fullname" . } }
  namespace: { { .Release.Namespace } }
  labels: { { - include "cloudflare-tunnel.labels" . | nindent 4 } }
spec:
  parameters:
    image:
      registry: { { .Values.image.registry } }
      repository: { { .Values.image.repository } }
      tag: { { .Values.image.tag } }
      pullPolicy: { { .Values.image.pullPolicy } }
    tunnel:
      zone: { { .Values.tunnel.zone | quote } }
      name: { { .Values.tunnel.name | quote } }
      service: { { .Values.tunnel.service | quote } }
    secrets:
      tunnelToken:
        name: { { .Values.secrets.tunnelToken.name } }
        key: { { .Values.secrets.tunnelToken.key } }
